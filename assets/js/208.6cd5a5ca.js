(window.webpackJsonp=window.webpackJsonp||[]).push([[208],{630:function(t,s,a){"use strict";a.r(s);var v=a(30),_=Object(v.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("strong",[t._v("操作文件时要经历如下步骤：")])]),t._v(" "),a("ul",[a("li",[t._v("打开文件")]),t._v(" "),a("li",[t._v("操作文件")]),t._v(" "),a("li",[t._v("关闭文件")])]),t._v(" "),a("h4",{attrs:{id:"打开文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打开文件"}},[t._v("#")]),t._v(" 打开文件")]),t._v(" "),a("p",[t._v("打开文件时，需要指定文件路径和以何等方式打开文件，打开后，即可获取该文件句柄，之后通过此文件句柄对该文件操作。")]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[t._v("文件句柄 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'文件路径'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'模式'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h5",{attrs:{id:"打开文件的模式有："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打开文件的模式有："}},[t._v("#")]),t._v(" 打开文件的模式有：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("r")]),t._v(" ，"),a("strong",[t._v("只读模式")]),t._v("【默认】")]),t._v(" "),a("li",[a("code",[t._v("w")]),t._v("，"),a("strong",[t._v("只写模式")]),t._v("【不可读；不存在则创建；存在则清空内容；】")]),t._v(" "),a("li",[a("code",[t._v("x")]),t._v("， "),a("strong",[t._v("只写模式")]),t._v("【不可读；不存在则创建，存在则报错】")]),t._v(" "),a("li",[a("code",[t._v("a")]),t._v("， "),a("strong",[t._v("追加模式")]),t._v("【不可读；   不存在则创建；存在则只追加内容；】")])]),t._v(" "),a("h5",{attrs:{id:"表示可以同时读写某个文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#表示可以同时读写某个文件"}},[t._v("#")]),t._v(" "),a("strong",[t._v('"+" 表示可以同时读写某个文件')])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("r+")]),t._v("， "),a("strong",[t._v("读写")]),t._v("【可读，可写】        不创建,文件不存在报错，  写的时候 覆盖式写入")]),t._v(" "),a("li",[a("code",[t._v("w+")]),t._v("，"),a("strong",[t._v("写读")]),t._v("【可读，可写】         覆盖式写入，文本不存在创建")]),t._v(" "),a("li",[a("code",[t._v("x+")]),t._v(" ，"),a("strong",[t._v("写读")]),t._v("【可读，可写】        覆盖式写入，  文件存在即报错")]),t._v(" "),a("li",[a("code",[t._v("a+")]),t._v("， "),a("strong",[t._v("写读")]),t._v("【可读，可写】        追加写  打开的同时已经把指针移动到最后了")])]),t._v(" "),a("h5",{attrs:{id:"b-表示以字节的方式操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b-表示以字节的方式操作"}},[t._v("#")]),t._v(" "),a("strong",[t._v('"b"表示以字节的方式操作')])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("rb")]),t._v("  或"),a("code",[t._v("r+b")])]),t._v(" "),a("li",[a("code",[t._v("wb")]),t._v(" 或 "),a("code",[t._v("w+b")])]),t._v(" "),a("li",[a("code",[t._v("xb")]),t._v("或 "),a("code",[t._v("w+b")])]),t._v(" "),a("li",[a("code",[t._v("ab")]),t._v("或 "),a("code",[t._v("a+b")])]),t._v(" "),a("li",[t._v("注：以"),a("code",[t._v("b")]),t._v("方式打开时，读取到的内容是字节类型，写入时也需要提供字节类型")])]),t._v(" "),a("h4",{attrs:{id:"文件操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件操作"}},[t._v("#")]),t._v(" 文件操作")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("for line in f:")]),t._v(" #循环文件")]),t._v(" "),a("li",[a("code",[t._v("f.read()")]),t._v("#读取文件，可读模式下可用，按字符查找，读取时可以指定读取多少字符")]),t._v(" "),a("li",[a("code",[t._v("readline()")]),t._v("           #只读一行 ，遇到\\r or \\n为止")]),t._v(" "),a("li",[a("code",[t._v("f.write()")]),t._v("　　 #写入数据，可写模式下可用")]),t._v(" "),a("li",[a("code",[t._v("f.tell()")]),t._v("　　 #查看指针当前位置")]),t._v(" "),a("li",[a("code",[t._v("f.seek()")]),t._v(" #跳转指针到该位置处\n#注意 tell,seek按字节查找，通过tell（）保存指针位置， 再通过seek（）打开保存的指针位置， 在做日志增量分析时非常有用")]),t._v(" "),a("li",[a("code",[t._v("fileno()")]),t._v("      #返回文件句柄在内核中的索引值，以后做IO多路复用时可以用到")]),t._v(" "),a("li",[a("code",[t._v("flush():")]),t._v("       把文件从内存buffer里强制刷新到硬盘")]),t._v(" "),a("li",[a("code",[t._v("readable()")]),t._v("   #判断是否可读")]),t._v(" "),a("li",[a("code",[t._v("seekable()")]),t._v("  #判断是否可进行seek操作")]),t._v(" "),a("li",[a("code",[t._v("truncate()")]),t._v("  #按指定长度截断文件 ,指定长度的话，就从文件开头开始截断指定长度，不指定长度的话，就从当前位置到文件尾部的内容全去掉。")]),t._v(" "),a("li",[a("code",[t._v("writeable()")]),t._v("   #判断文件是否可写")])]),t._v(" "),a("h4",{attrs:{id:"关闭文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭文件"}},[t._v("#")]),t._v(" 关闭文件")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("f.close()")])]),t._v(" "),a("li",[a("p",[t._v('with open("ha1.log","r+",encoding="utf-8") as f:      '),a("strong",[t._v("Python自动关闭")])]),t._v(" "),a("div",{staticClass:"language-python extra-class"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可以同时打开两个文件（@2.7之后的版本） ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 优化内存，文件太大，可以通过这个方式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"源文件"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"r+"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f，"),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"新文件"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"r+"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("encoding"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" f"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("　　\n")])])])])]),t._v(" "),a("h4",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("不知道编码")]),t._v("，rb，用于网络传输等不给人看的方")]),t._v(" "),a("li",[a("strong",[t._v("不知道编码")]),t._v("，用二进制模式rb，用于网络传输等不给人看的方式")]),t._v(" "),a("li",[a("strong",[t._v("不知道要处理的文件编码是什么")]),t._v("，用chardet模块，尝试判断字符编码")]),t._v(" "),a("li",[t._v("写入的数据，会短暂的在内存停留，到达一定的量才存到硬盘，以此来提高运行速度")]),t._v(" "),a("li",[t._v("修改数据，文件开始和结束的位置确定，不可以改变，修改可能会让某些字符乱码")])])])}),[],!1,null,null,null);s.default=_.exports}}]);