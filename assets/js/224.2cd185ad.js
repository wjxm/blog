(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{643:function(t,i,e){"use strict";e.r(i);var a=e(30),n=Object(a.a)({},(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("高级的 文件、文件夹、压缩包 处理模块")]),t._v(" "),e("ul",[e("li",[t._v("shutil.copyfileobj(fsrc, fdst[, length])      #将文件内容拷贝到另一个文件中")]),t._v(" "),e("li",[t._v("shutil.copyfile(src, dst)                           #拷贝文件")]),t._v(" "),e("li",[t._v("shutil.copymode(src, dst)          #仅拷贝权限。内容、组、用户均不变")]),t._v(" "),e("li",[t._v("shutil.copystat(src, dst)             #仅拷贝状态的信息，包括：mode bits, atime, mtime, flags")]),t._v(" "),e("li",[t._v("shutil.copy(src, dst)            #拷贝文件和权限")]),t._v(" "),e("li",[t._v("shutil.copy2(src, dst)          #拷贝文件和状态信息")]),t._v(" "),e("li",[t._v("shutil.ignore_patterns(*patterns)         #排查内容，ignore = shutil.ingonre_patterns（）")]),t._v(" "),e("li",[t._v("shutil.copytree(src, dst, symlinks=False, ignore=None)           #递归的去拷贝文件夹")]),t._v(" "),e("li",[t._v("shutil.rmtree(path[, ignore_errors[, onerror]])             #递归的去删除文件")]),t._v(" "),e("li",[t._v("shutil.move(src, dst)            #递归的去移动文件，它类似mv命令，其实就是重命名。")])]),t._v(" "),e("p",[t._v("shutil.make_archive(base_name, format,...)"),e("br",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","text-size-adjust":"none","-webkit-font-smoothing":"antialiased","user-select":"text !important","font-size":"inherit"}}),t._v("创建压缩包并返回文件路径，例如：zip、tar")]),t._v(" "),e("ul",[e("li",[t._v("base_name： 压缩包的文件名，也可以是压缩包的路径。只是文件名时，则保存至当前目录，否则保存至指定路径，")])]),t._v(" "),e("p",[t._v("如 data_bak =>保存至当前路径"),e("br",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","text-size-adjust":"none","-webkit-font-smoothing":"antialiased","user-select":"text !important","font-size":"inherit"}}),t._v("如：/tmp/data_bak =>保存至/tmp/")]),t._v(" "),e("ul",[e("li",[t._v("format： 压缩包种类，zip, tar, bztar，gztar")]),t._v(" "),e("li",[t._v("root_dir： 要压缩的文件夹路径（默认当前目录）")]),t._v(" "),e("li",[t._v("owner： 用户，默认当前用户")]),t._v(" "),e("li",[t._v("group： 组，默认当前组")]),t._v(" "),e("li",[t._v("logger： 用于记录日志，通常是logging.Logger对象\n")]),e("li",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","text-size-adjust":"none","-webkit-font-smoothing":"antialiased","user-select":"text !important","font-size":"inherit"}})]),t._v(" "),e("pre",[t._v("#将 /data 下的文件打包放置当前程序目录\nimport shutil\nret = shutil.make_archive(\"data_bak\", 'gztar', root_dir='/data')\n\n#将 /data下的文件打包放置 /tmp/目录\nimport shutil\nret = shutil.make_archive(\"/tmp/data_bak\", 'gztar', root_dir='/data')")]),t._v(" "),e("p",[t._v("shutil 对压缩包的处理是调用 ZipFile 和 TarFile 两个模块来进行的，详细："),e("br",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","text-size-adjust":"none","-webkit-font-smoothing":"antialiased","user-select":"text !important","font-size":"inherit"}}),t._v("zipfile压缩&解压缩")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<code style=\"box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 0.85em; padding: 0px; color: inherit; background: 0px 0px; border-radius: 0px; break-inside: avoid; direction: ltr; margin: 0px; border: none; display: inline; max-width: initial; overflow: initial; line-height: inherit; user-select: text !important;\">import zipfile\n\n# 压缩\nz = zipfile.ZipFile('laxi.zip', 'w')\nz.write('a.log')\nz.write('data.data')\nz.close()\n\n# 解压\nz = zipfile.ZipFile('laxi.zip', 'r')\nz.extractall(path='.')\nz.close()\n</code>\n")])])]),e("p",[t._v("tarfile压缩&解压缩")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<code style=\"box-sizing: border-box; -webkit-tap-highlight-color: transparent; text-size-adjust: none; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 0.85em; padding: 0px; color: inherit; background: 0px 0px; border-radius: 0px; break-inside: avoid; direction: ltr; margin: 0px; border: none; display: inline; max-width: initial; overflow: initial; line-height: inherit; user-select: text !important;\">import tarfile\n\n# 压缩\n>>> t=tarfile.open('/tmp/egon.tar','w')\n>>> t.add('/test1/a.py',arcname='a.bak')\n>>> t.add('/test1/b.py',arcname='b.bak')\n>>> t.close()\n\n# 解压\n>>> t=tarfile.open('/tmp/egon.tar','r')\n>>> t.extractall('/egon')\n>>> t.close()</code>\n")])])])])}),[],!1,null,null,null);i.default=n.exports}}]);