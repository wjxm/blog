(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{479:function(v,_,t){"use strict";t.r(_);var a=t(30),s=Object(a.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h3",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[v._v("#")])]),v._v(" "),t("h3",{attrs:{id:"web服务交互"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web服务交互"}},[v._v("#")]),v._v(" web服务交互")]),v._v(" "),t("p",[v._v("我们在浏览器中能看到的每个网站，都是一个web服务。那么我们在提供每个web服务的时候，")]),v._v(" "),t("p",[v._v("都需要前后端交互，前后端交互就一定有一些实现方案，我们通常叫web服务交互方案。")]),v._v(" "),t("p",[v._v("目前主流的三种web服务交互方案：")]),v._v(" "),t("p",[v._v("-- REST （ Representational State Transfer）表述性状态转移")]),v._v(" "),t("p",[v._v("-- SOAP （Simple Object Access Protocol） 简单的对象访问协议")]),v._v(" "),t("p",[v._v("-- XML-RPC （XML Remote Procedure Call）基于XML的远程过程调用")]),v._v(" "),t("p",[v._v("XML-RPC是通过XML将调用函数封装，并使用HTTP协议作为传送机制。")]),v._v(" "),t("p",[v._v("后来在新的功能不断被引入下，这个标准慢慢演变成为今日的SOAP协定。")]),v._v(" "),t("p",[v._v("SOAP服务则是以本身所定义的操作集，来访问网络上的资源。")]),v._v(" "),t("p",[v._v("SOAP也是基于XML的，但是它不只限于HTTP协议的传输，包括TCP协议，UDP协议都可以传输。")]),v._v(" "),t("p",[v._v("REST是Roy Thomas Fielding博士于2000年在他的博士论文里提出来的。")]),v._v(" "),t("p",[v._v("REST相比SOAP更加简洁，性能和开发效率也有突出的优势。")]),v._v(" "),t("p",[v._v("我们今天主要说一下这个REST，现在越来越多的web服务开始采用REST风格设计和实现。")]),v._v(" "),t("p",[v._v("例如，amazon.com提供接近REST风格的Web服务进行图书查找；雅虎提供的Web服务也是REST风格的。")]),v._v(" "),t("p",[v._v("我们接下来要学的框架也是遵循REST风格的，那么我们来看下它到底是个什么样的风格，")]),v._v(" "),t("p",[v._v("了解了它是什么后，我们看下它的优点是什么，我们为什么用它。")]),v._v(" "),t("h3",{attrs:{id:"理解rest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#理解rest"}},[v._v("#")]),v._v(" 理解REST")]),v._v(" "),t("p",[v._v("如果我们想要理解restful，就要理解Representational State Transfer这个词组的意思，表征性状态转移。")]),v._v(" "),t("p",[v._v("这里所说的表征性，其实指的就是资源。通常我们称为资源状态转移。")]),v._v(" "),t("h4",{attrs:{id:"什么是资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是资源"}},[v._v("#")]),v._v(" 什么是资源")]),v._v(" "),t("p",[v._v("任何事物，只要有被引用到的必要，它就是一个资源。")]),v._v(" "),t("p",[v._v("我们在浏览器中看到的文本，视频，图片等等都是资源。这些都是实实在在存在的实体。")]),v._v(" "),t("p",[v._v("资源可以是一个实体，也可以是抽象概念。")]),v._v(" "),t("p",[v._v("比如说吧：")]),v._v(" "),t("p",[v._v("-- Alex的个人信息")]),v._v(" "),t("p",[v._v("-- 沛齐的手机号")]),v._v(" "),t("p",[v._v("-- Alex跟沛齐的潜在关系")]),v._v(" "),t("p",[v._v("这些都是资源，可以是实体比如个人信息，手机号。也可以是抽象的概念，比如两个人的关系......")]),v._v(" "),t("p",[v._v("那么在我们的网络中，我们要引用资源，资源一定要有一个标识，在web中的唯一标识就是URI，")]),v._v(" "),t("p",[v._v("URI我们不常听说，我们经常用URL，那么两者区别是什么呢~")]),v._v(" "),t("h4",{attrs:{id:"什么是uri，url"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是uri，url"}},[v._v("#")]),v._v(" 什么是URI，URL")]),v._v(" "),t("p",[v._v("URI 统一资源标志符。")]),v._v(" "),t("p",[v._v("URL 统一资源定位符。")]),v._v(" "),t("p",[v._v("URI是给我们的资源进行标识的，URL是描述我们资源地址的。")]),v._v(" "),t("p",[v._v("比如说我们每个人都有名字和身份证，名字可能重名，但是身份证是唯一的，")]),v._v(" "),t("p",[v._v("那么身份证号就可以是我们的URI，标识我们每个人，也可以说标识我们每个资源。")]),v._v(" "),t("p",[v._v("我们可以通过身份证号找到Alex，也可以通过下面这种方式找到他.....")]),v._v(" "),t("p",[v._v("Alex的住址协议://地球/中国/屌丝省/屌丝市/寡妇村/250号街道/250号/Alex")]),v._v(" "),t("p",[v._v("这个就是我们的URL，我们通过这两种方式都可以找到我们的资源，")]),v._v(" "),t("p",[v._v("其实我们的URL可以说是URI的子集，通过定位的方式实现的URI。")]),v._v(" "),t("p",[v._v("这是我们资源的定位"),t("s",[v._v("有了资源的地址后，我们要去访问资源，那么我们要通过什么方式去访问呢")])]),v._v(" "),t("h4",{attrs:{id:"统一资源接口"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#统一资源接口"}},[v._v("#")]),v._v(" 统一资源接口")]),v._v(" "),t("p",[v._v("现在我们可以通过URL去访问到资源，那么我们对资源会有很多不同的操作，增删改查，")]),v._v(" "),t("p",[v._v("以前我们可能会为了这个增加新设计一个URL，然后这个URL就是对数据进行增加的，")]),v._v(" "),t("p",[v._v("还会为了更新和删除分别设计一个URL，现在我们不用了，我们只有一个URL，")]),v._v(" "),t("p",[v._v("然后根据HTTP请求方式的不同，对资源进行不同的操作，这个就是是统一资源接口。")]),v._v(" "),t("p",[v._v("我们一定要遵循HTTP请求方法的语义，也就是说POST请求就在新增数据等....")]),v._v(" "),t("h4",{attrs:{id:"资源的表述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#资源的表述"}},[v._v("#")]),v._v(" 资源的表述")]),v._v(" "),t("p",[v._v("资源的表述其实就是资源的展现形式，我们客户端和服务端传输的都是资源的表述，而不是资源本身。")]),v._v(" "),t("p",[v._v("例如文本资源可以采用html、xml、json等格式，图片可以使用PNG或JPG展现出来。")]),v._v(" "),t("p",[v._v("那么客户端如何知道服务端提供哪种表述形式呢?")]),v._v(" "),t("p",[v._v("可以通过HTTP内容协商，客户端可以通过Accept头请求一种特定格式的表述，服务端则通过Content-Type告诉客户端资源的表述形式。")]),v._v(" "),t("p",[v._v("这些资源的表述呈现在页面上，就是我们说的资源状态。")]),v._v(" "),t("h4",{attrs:{id:"状态转移"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#状态转移"}},[v._v("#")]),v._v(" 状态转移")]),v._v(" "),t("p",[v._v("我们在看页面的时候，从当前资源的表述(也可以说状态或者表现层)会跳转到其他的资源状态。")]),v._v(" "),t("p",[v._v("服务端通过超媒体告诉客户端当前状态有哪些后续状态可以进入。")]),v._v(" "),t("p",[v._v('这些类似"下一页"之类的链接起的就是这种推进状态的作用——指引你如何从当前状态进入下一个可能的状态。')]),v._v(" "),t("h4",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[v._v("#")]),v._v(" 总结")]),v._v(" "),t("p",[v._v("可以得知REST风格的特点如下：")]),v._v(" "),t("p",[v._v("（1）在web中，只要有被引用的必要都叫资源。")]),v._v(" "),t("p",[v._v("（2）每个URI代表一个资源，独一无二的。")]),v._v(" "),t("p",[v._v("（3）客户端通过HTTP的方法，对服务器端资源进行操作；")]),v._v(" "),t("p",[v._v("（4）客户端和服务器之间，传递这种资源的某种表现层；")]),v._v(" "),t("p",[v._v('（5）通过超链接的指引，实现"表现层状态转移"。')]),v._v(" "),t("h3",{attrs:{id:"restful"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restful"}},[v._v("#")]),v._v(" RESTful")]),v._v(" "),t("p",[v._v("如果一个架构符合REST的约束条件和原则，我们就称它为RESTful架构。")]),v._v(" "),t("p",[v._v("一种软件的架构风格，设计风格, 为客户端和服务端的交互提供一组设计原则和约束条件。")]),v._v(" "),t("h3",{attrs:{id:"restful规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#restful规范"}},[v._v("#")]),v._v(" restful规范")]),v._v(" "),t("h4",{attrs:{id:"一-面向资源编程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一-面向资源编程"}},[v._v("#")]),v._v(" 一 面向资源编程")]),v._v(" "),t("p",[v._v("每个URL代表一种资源，URL中尽量不要用动词，要用名词。")]),v._v(" "),t("h4",{attrs:{id:"二-根据method不同，进行不同的操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二-根据method不同，进行不同的操作"}},[v._v("#")]),v._v(" 二 根据method不同，进行不同的操作")]),v._v(" "),t("p",[v._v("GET/POST/PUT/DELETE/PATCH")]),v._v(" "),t("h4",{attrs:{id:"三-在url中体现版本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三-在url中体现版本"}},[v._v("#")]),v._v(" 三 在URL中体现版本")]),v._v(" "),t("p",[v._v("https://www.bootcss.com/v1/mycss")]),v._v(" "),t("p",[v._v("https://v1.bootcss.com/mycss")]),v._v(" "),t("h4",{attrs:{id:"四-在url中体现是否是api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四-在url中体现是否是api"}},[v._v("#")]),v._v(" 四 在URL中体现是否是API")]),v._v(" "),t("p",[v._v("https://www.bootcss.com/api/mycss")]),v._v(" "),t("p",[v._v("https://api.bootcss.com/mycss")]),v._v(" "),t("h4",{attrs:{id:"五-在url中的过滤条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五-在url中的过滤条件"}},[v._v("#")]),v._v(" 五 在URL中的过滤条件")]),v._v(" "),t("p",[v._v("https://www.bootcss.com/v1/mycss？page=3")]),v._v(" "),t("h4",{attrs:{id:"六-尽量使用https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#六-尽量使用https"}},[v._v("#")]),v._v(" 六 尽量使用HTTPS")]),v._v(" "),t("p",[v._v("https://www.bootcss.com/v1/mycss")]),v._v(" "),t("h4",{attrs:{id:"七-响应时设置状态码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#七-响应时设置状态码"}},[v._v("#")]),v._v(" 七 响应时设置状态码")]),v._v(" "),t("p",[v._v("1**  信息，服务器收到请求，需要请求者继续执行操作")]),v._v(" "),t("p",[v._v("2** 成功，操作被成功接收并处理")]),v._v(" "),t("p",[v._v("3** 重定向，需要进一步的操作以完成请求")]),v._v(" "),t("p",[v._v("4** 客户端错误，请求包含语法错误或无法完成请求")]),v._v(" "),t("p",[v._v("5** 服务器错误，服务器在处理请求的过程中发生了错误")]),v._v(" "),t("h4",{attrs:{id:"八-返回值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#八-返回值"}},[v._v("#")]),v._v(" 八 返回值")]),v._v(" "),t("p",[v._v("GET请求 返回查到所有或单条数据")]),v._v(" "),t("p",[v._v("POST请求 返回新增的数据")]),v._v(" "),t("p",[v._v("PUT请求 返回更新数据")]),v._v(" "),t("p",[v._v("PATCH请求 局部更新 返回更新整条数据")]),v._v(" "),t("p",[v._v("DELETE请求 返回值为空")]),v._v(" "),t("h4",{attrs:{id:"九-返回错误信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#九-返回错误信息"}},[v._v("#")]),v._v(" 九 返回错误信息")]),v._v(" "),t("p",[v._v("返回值携带错误信息")]),v._v(" "),t("h4",{attrs:{id:"十-hypermedia-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#十-hypermedia-api"}},[v._v("#")]),v._v(" 十  Hypermedia API")]),v._v(" "),t("p",[v._v("如果遇到需要跳转的情况 携带调转接口的URL")]),v._v(" "),t("p",[v._v("ret = {")]),v._v(" "),t("p",[v._v("​        code: 1000,")]),v._v(" "),t("p",[v._v("​        data:{")]),v._v(" "),t("p",[v._v("​          id:1,")]),v._v(" "),t("p",[v._v("​          name:'小强',")]),v._v(" "),t("p",[v._v("​          depart_id:http://www.luffycity.com/api/v1/depart/8/")]),v._v(" "),t("p",[v._v("​        }")]),v._v(" "),t("p",[v._v("​      }")]),v._v(" "),t("p")])}),[],!1,null,null,null);_.default=s.exports}}]);